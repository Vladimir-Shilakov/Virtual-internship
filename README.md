# Виртуальная стажировка SkillFactory
## Описание проекта
Мобильное приложение для туристов. После преодоления очередного перевала, пользователь может внести данные о нём в приложение для отправки  в ФСТР(Федерация Спортивного Туризма России) как только появится доступ в интернет. После чего модератор внесет полученную информацию от пользователя в базу данных. Пользователь сможет просмотреть статус модерации, в случае если статус данных "new" пользователь так же может изменить внесенные данные(кроме личных данных) Любой пользователь может вносить данные(регистрация не требуется), а так же просматривать информациию о других перевалах.
## Работа приложения
# Пользователь вносит личные данные, а так же данные о перевале
1. ФИО пользователя
2. Электронную почту
3. Номер телефона
4. Название перевала
5. Координаты перевала
6. Сложность прохождения(В зависимости от времени года)
7. Несколько фотографий
# Пример JSON:
    {
        "beautyTitle": "Хребет Аркасара",
        "title": "Аманауз Архызский",
        "other_titles": "Аманауз",
        "connect": "ледн.Аманауз, р.Аманауз (р.Псыш, р.Бол.Зеленчук) - р.Бол.Лаба.",
        "add_time": "2023-11-02T13:37:22.069943Z",
        "user": {
            "name": "Иван",
            "otc": "Иванович",
            "fam": "Иванов",
            "email": "ivan_ivanov@anymail.ru",
            "phone": "+79998887766"
        },
        "coords": {
            "latitude": 24.961,
            "longitude": 5.965,
            "height": 3050
        },
        "level": {
            "winter": "1b",
            "spring": "1a",
            "summer": "3a",
            "autumn": "1b"
        },
        "images": [
            {
                "data": "http://127.0.0.1:8000/media/images/_DSC0756.jpg",
                "title": "Аманауз"
            }
        ]
    }
]
# Результат метода: JSON

status — код HTTP, целое число:
500 — ошибка при выполнении операции;
400 — Bad Request (при нехватке полей);
200 — успех.

message — строка:
Причина ошибки (если она была);
Отправлено успешно;
Если отправка успешна, дополнительно возвращается id вставленной записи.
id — идентификатор, который был присвоен объекту при добавлении в базу данных.

Примеры:

{ "status": 500, "message": "Ошибка подключения к базе данных","id": null}
{ "status": 200, "message": null, "id": 42 }

## Используемые библиотеки
1. Django
2. djangorestframework
3. psycopg2
4. Pillow
5. django-filter
6. drf-writable-nested
7. markdown

# Проект использует postgresql в качестве базы данных

## Модели
1. Модель пользователя User, содержащая личные данные
2. Модель Coords, для хранения координат
3. Модель Level, для хранения уровней сложности прохождения перевалов
4. Модель Images, для хранения изображений
5. Модель Mountains, для работы с данными

## Методы:
1. POST /submitData/
Метод принимает JSON в теле запроса с информацией о перевале
2. PATCH /submitData/<id>
Метод редактирует запись(перевал), при условии что её статус "new", поля содержащие личную информацию пользователя редактировать нельзя
3. GET /submitData/<id>
Метод получает запись(перевал) по id, выводит всю информацию об объекте, в том числе статус модерации
4. GET /submitData/?user__email=<email>
Список данных обо всех объектах, которые пользователь с почтой <email> отправил на сервер.
